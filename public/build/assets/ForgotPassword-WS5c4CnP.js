import{e as V,J as w,F as I,g as f,l as q,h as g,i as x,j as M,k as N,r as n,o as u,c as m,a as i,w as d,m as a,t as c,b as C,q as D,s as F}from"./main-vzIkKseS.js";import{u as G}from"./auth-KGSQmcys.js";const j=["onSubmit"],A={key:0},E={key:1},J={class:"mt-4 mb-4 text-sm"},T={setup(L){const h=G(),{t:p}=V(),$=w(),r=I({email:"",company:""}),v=f(!1),o=f(!1),b=q(()=>({email:{required:g.withMessage(p("validation.required"),x),email:g.withMessage(p("validation.email_incorrect"),M)}})),e=N(b,r);function y(s){if(e.value.$touch(),e.value.$invalid)return!0;o.value=!0;let t={...r,company:$.params.company};h.forgotPassword(t).then(l=>{o.value=!1}).catch(l=>{o.value=!1}),v.value=!0}return(s,t)=>{const l=n("BaseInput"),B=n("BaseInputGroup"),k=n("BaseButton"),S=n("router-link");return u(),m("form",{id:"loginForm",onSubmit:F(y,["prevent"])},[i(B,{error:a(e).email.$error&&a(e).email.$errors[0].$message,label:s.$t("login.enter_email"),class:"mb-4",required:""},{default:d(()=>[i(l,{modelValue:a(r).email,"onUpdate:modelValue":t[0]||(t[0]=_=>a(r).email=_),type:"email",name:"email",invalid:a(e).email.$error,onInput:t[1]||(t[1]=_=>a(e).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),i(k,{loading:o.value,disabled:o.value,type:"submit",variant:"primary"},{default:d(()=>[v.value?(u(),m("div",E,c(s.$t("validation.not_yet")),1)):(u(),m("div",A,c(s.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),C("div",J,[i(S,{to:"login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:d(()=>[D(c(s.$t("general.back_to_login")),1)]),_:1})])],40,j)}}};export{T as default};
